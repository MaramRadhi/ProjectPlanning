{"version":3,"file":"useAuthHeader.js","sources":["../../src/hooks/useAuthHeader.ts"],"sourcesContent":["/**\n * @author Arkadip Bhattacharya <in2arkadipb13@gmail.com>\n * @fileoverview Authentication header <hook>\n * @copyright Arkadip Bhattacharya 2020\n *\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport AuthContext from '../AuthContext';\nimport {AuthKitError} from '../errors';\nimport {isAuthenticated} from '../utils/utils';\n\n/**\n *\n */\nfunction useAuthHeader(): () => (string) {\n  const c = React.useContext(AuthContext);\n  if (c === null) {\n    throw new\n    AuthKitError('Auth Provider is missing. ' +\n      'Please add the AuthProvider before Router');\n  }\n\n\n  return () => {\n    if (c.authState.auth && isAuthenticated(c.authState)) {\n      return `${c.authState.auth.type} ${c.authState.auth.token}`;\n    } else {\n      return ``;\n    }\n  };\n}\n\nexport default useAuthHeader;\n"],"names":[],"mappings":";;;;;AAAA;;;;;;;;;;;;;;;;;;AAkBG;AAOH;;AAEG;AACH,SAAS,aAAa,GAAA;IACpB,IAAM,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;IACxC,IAAI,CAAC,KAAK,IAAI,EAAE;QACd,MAAM,IACN,YAAY,CAAC,4BAA4B;AACvC,YAAA,2CAA2C,CAAC,CAAC;AAChD,KAAA;IAGD,OAAO,YAAA;AACL,QAAA,IAAI,CAAC,CAAC,SAAS,CAAC,IAAI,IAAI,eAAe,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE;AACpD,YAAA,OAAO,UAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAI,GAAA,CAAA,CAAA,MAAA,CAAA,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAE,CAAC;AAC7D,SAAA;AAAM,aAAA;AACL,YAAA,OAAO,EAAE,CAAC;AACX,SAAA;AACH,KAAC,CAAC;AACJ;;;;"}