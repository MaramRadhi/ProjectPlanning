{"ast":null,"code":"var __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport { useMemo, useRef } from 'react';\nimport { FormGroupsContext } from './FormGroupsContext';\n/**\n * This component provides functions through context to manage form groups,\n * allowing to link or unlink an input to a group.\n * @see FormGroupContextProvider\n * @see useFormGroup\n * @see useFormGroups\n */\nexport var FormGroupsProvider = function (_a) {\n  var children = _a.children;\n  var formGroups = useRef({});\n  var subscribers = useRef({});\n  var formContextValue = useMemo(function () {\n    return {\n      /**\n       * Register a subscriber function for the specified group. The subscriber\n       * will be called whenever the group content changes (fields added or removed).\n       */\n      subscribe: function (group, subscriber) {\n        if (!subscribers.current[group]) {\n          subscribers.current[group] = [];\n        }\n        subscribers.current[group].push(subscriber);\n        return function () {\n          subscribers.current[group] = subscribers.current[group].filter(function (s) {\n            return s !== subscriber;\n          });\n        };\n      },\n      getGroupFields: function (name) {\n        return formGroups.current[name] || [];\n      },\n      registerGroup: function (name) {\n        formGroups.current[name] = formGroups.current[name] || [];\n      },\n      unregisterGroup: function (name) {\n        delete formGroups[name];\n      },\n      registerField: function (source, group) {\n        if (group != null) {\n          if (!(formGroups.current[group] || []).includes(source)) {\n            formGroups.current[group] = __spreadArray(__spreadArray([], formGroups.current[group] || [], true), [source], false);\n            // Notify subscribers that the group fields have changed\n            if (subscribers.current[group]) {\n              subscribers.current[group].forEach(function (subscriber) {\n                return subscriber();\n              });\n            }\n          }\n        }\n      },\n      unregisterField: function (source, group) {\n        if (group != null) {\n          if (!formGroups.current[group]) {\n            console.warn(\"Invalid form group \".concat(group));\n          } else {\n            var fields = new Set(formGroups.current[group]);\n            fields.delete(source);\n            formGroups.current[group] = Array.from(fields);\n            // Notify subscribers that the group fields have changed\n            if (subscribers.current[group]) {\n              subscribers.current[group].forEach(function (subscriber) {\n                return subscriber();\n              });\n            }\n          }\n        }\n      }\n    };\n  }, []);\n  return React.createElement(FormGroupsContext.Provider, {\n    value: formContextValue\n  }, children);\n};","map":{"version":3,"names":["React","useMemo","useRef","FormGroupsContext","FormGroupsProvider","_a","children","formGroups","subscribers","formContextValue","subscribe","group","subscriber","current","push","filter","s","getGroupFields","name","registerGroup","unregisterGroup","registerField","source","includes","__spreadArray","forEach","unregisterField","console","warn","concat","fields","Set","delete","Array","from","createElement","Provider","value"],"sources":["/Users/imrun10/Documents/GitHub/GradeCourseApp/client/node_modules/ra-core/src/form/FormGroupsProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { ReactNode, useMemo, useRef } from 'react';\nimport {\n    FormGroupsContext,\n    FormGroupsContextValue,\n    FormGroupSubscriber,\n} from './FormGroupsContext';\n\n/**\n * This component provides functions through context to manage form groups,\n * allowing to link or unlink an input to a group.\n * @see FormGroupContextProvider\n * @see useFormGroup\n * @see useFormGroups\n */\nexport const FormGroupsProvider = ({ children }: { children: ReactNode }) => {\n    const formGroups = useRef<{ [key: string]: string[] }>({});\n    const subscribers = useRef<{\n        [key: string]: FormGroupSubscriber[];\n    }>({});\n\n    const formContextValue = useMemo<FormGroupsContextValue>(\n        () => ({\n            /**\n             * Register a subscriber function for the specified group. The subscriber\n             * will be called whenever the group content changes (fields added or removed).\n             */\n            subscribe: (group, subscriber) => {\n                if (!subscribers.current[group]) {\n                    subscribers.current[group] = [];\n                }\n                subscribers.current[group].push(subscriber);\n\n                return () => {\n                    subscribers.current[group] = subscribers.current[\n                        group\n                    ].filter(s => s !== subscriber);\n                };\n            },\n            getGroupFields: name => formGroups.current[name] || [],\n            registerGroup: name => {\n                formGroups.current[name] = formGroups.current[name] || [];\n            },\n            unregisterGroup: name => {\n                delete formGroups[name];\n            },\n            registerField: (source, group) => {\n                if (group != null) {\n                    if (!(formGroups.current[group] || []).includes(source)) {\n                        formGroups.current[group] = [\n                            ...(formGroups.current[group] || []),\n                            source,\n                        ];\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n            unregisterField: (source, group) => {\n                if (group != null) {\n                    if (!formGroups.current[group]) {\n                        console.warn(`Invalid form group ${group}`);\n                    } else {\n                        const fields = new Set(formGroups.current[group]);\n                        fields.delete(source);\n                        formGroups.current[group] = Array.from(fields);\n\n                        // Notify subscribers that the group fields have changed\n                        if (subscribers.current[group]) {\n                            subscribers.current[group].forEach(subscriber =>\n                                subscriber()\n                            );\n                        }\n                    }\n                }\n            },\n        }),\n        []\n    );\n\n    return (\n        <FormGroupsContext.Provider value={formContextValue}>\n            {children}\n        </FormGroupsContext.Provider>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}