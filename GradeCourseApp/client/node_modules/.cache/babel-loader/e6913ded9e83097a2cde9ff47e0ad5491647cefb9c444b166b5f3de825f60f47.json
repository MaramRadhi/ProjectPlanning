{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { removeEmpty, useSafeSetState } from '../../util';\nimport { useResourceContext } from '../../core';\nimport usePaginationState from '../usePaginationState';\nimport useSortState from '../useSortState';\nimport { useRecordSelection } from './useRecordSelection';\nimport { flattenObject } from '../../dataProvider/fetch';\nvar refetch = function () {\n  throw new Error('refetch is not available for a ListContext built from useList based on local data');\n};\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n *\n * const MyComponent = () => {\n *     const listContext = useList({ data });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {RaRecord[]} props.data An array of records\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n * @param {filterCallback} prop.filterCallback Optional. A function that allows you to make a custom filter\n */\nexport var useList = function (props) {\n  var data = props.data,\n    error = props.error,\n    _a = props.filter,\n    filter = _a === void 0 ? defaultFilter : _a,\n    _b = props.isFetching,\n    isFetching = _b === void 0 ? false : _b,\n    _c = props.isLoading,\n    isLoading = _c === void 0 ? false : _c,\n    _d = props.page,\n    initialPage = _d === void 0 ? 1 : _d,\n    _e = props.perPage,\n    initialPerPage = _e === void 0 ? 1000 : _e,\n    initialSort = props.sort,\n    _f = props.filterCallback,\n    filterCallback = _f === void 0 ? function (record) {\n      return Boolean(record);\n    } : _f;\n  var resource = useResourceContext(props);\n  var _g = useSafeSetState(isFetching),\n    fetchingState = _g[0],\n    setFetchingState = _g[1];\n  var _h = useSafeSetState(isLoading),\n    loadingState = _h[0],\n    setLoadingState = _h[1];\n  var _j = useSafeSetState(function () {\n      return {\n        data: data,\n        total: data ? data.length : undefined\n      };\n    }),\n    finalItems = _j[0],\n    setFinalItems = _j[1];\n  // pagination logic\n  var _k = usePaginationState({\n      page: initialPage,\n      perPage: initialPerPage\n    }),\n    page = _k.page,\n    setPage = _k.setPage,\n    perPage = _k.perPage,\n    setPerPage = _k.setPerPage;\n  // sort logic\n  var _l = useSortState(initialSort),\n    sort = _l.sort,\n    setSortState = _l.setSort;\n  var setSort = useCallback(function (sort) {\n    setSortState(sort);\n    setPage(1);\n  }, [setPage, setSortState]);\n  // selection logic\n  var _m = useRecordSelection(resource),\n    selectedIds = _m[0],\n    selectionModifiers = _m[1];\n  // filter logic\n  var filterRef = useRef(filter);\n  var _o = useSafeSetState({}),\n    displayedFilters = _o[0],\n    setDisplayedFilters = _o[1];\n  var _p = useSafeSetState(filter),\n    filterValues = _p[0],\n    setFilterValues = _p[1];\n  var hideFilter = useCallback(function (filterName) {\n    setDisplayedFilters(function (previousState) {\n      var _a = previousState,\n        _b = filterName,\n        _ = _a[_b],\n        newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n      return newState;\n    });\n    setFilterValues(function (previousState) {\n      var _a = previousState,\n        _b = filterName,\n        _ = _a[_b],\n        newState = __rest(_a, [typeof _b === \"symbol\" ? _b : _b + \"\"]);\n      return newState;\n    });\n  }, [setDisplayedFilters, setFilterValues]);\n  var showFilter = useCallback(function (filterName, defaultValue) {\n    setDisplayedFilters(function (previousState) {\n      var _a;\n      return __assign(__assign({}, previousState), (_a = {}, _a[filterName] = true, _a));\n    });\n    setFilterValues(function (previousState) {\n      var _a;\n      return removeEmpty(__assign(__assign({}, previousState), (_a = {}, _a[filterName] = defaultValue, _a)));\n    });\n  }, [setDisplayedFilters, setFilterValues]);\n  var setFilters = useCallback(function (filters, displayedFilters) {\n    setFilterValues(removeEmpty(filters));\n    if (displayedFilters) {\n      setDisplayedFilters(displayedFilters);\n    }\n    setPage(1);\n  }, [setDisplayedFilters, setFilterValues, setPage]);\n  // handle filter prop change\n  useEffect(function () {\n    if (!isEqual(filter, filterRef.current)) {\n      filterRef.current = filter;\n      setFilterValues(filter);\n    }\n  });\n  // We do all the data processing (filtering, sorting, paginating) client-side\n  useEffect(function () {\n    if (isLoading || !data) return;\n    var tempData = data;\n    // 1. filter\n    if (filterValues) {\n      var flattenFilterValues_1 = flattenObject(filterValues);\n      tempData = data.filter(function (record) {\n        return Object.entries(flattenFilterValues_1).every(function (_a) {\n          var filterName = _a[0],\n            filterValue = _a[1];\n          var recordValue = get(record, filterName);\n          var result = Array.isArray(recordValue) ? Array.isArray(filterValue) ? recordValue.some(function (item) {\n            return filterValue.includes(item);\n          }) : recordValue.includes(filterValue) : Array.isArray(filterValue) ? filterValue.includes(recordValue) : filterValue == recordValue; // eslint-disable-line eqeqeq\n          return result;\n        });\n      }).filter(filterCallback);\n    }\n    var filteredLength = tempData.length;\n    // 2. sort\n    if (sort.field) {\n      tempData = tempData.sort(function (a, b) {\n        if (get(a, sort.field) > get(b, sort.field)) {\n          return sort.order === 'ASC' ? 1 : -1;\n        }\n        if (get(a, sort.field) < get(b, sort.field)) {\n          return sort.order === 'ASC' ? -1 : 1;\n        }\n        return 0;\n      });\n    }\n    // 3. paginate\n    tempData = tempData.slice((page - 1) * perPage, page * perPage);\n    setFinalItems({\n      data: tempData,\n      total: filteredLength\n    });\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(data), filterValues, isLoading, page, perPage, setFinalItems, sort.field, sort.order]);\n  useEffect(function () {\n    if (isFetching !== fetchingState) {\n      setFetchingState(isFetching);\n    }\n  }, [isFetching, fetchingState, setFetchingState]);\n  useEffect(function () {\n    if (isLoading !== loadingState) {\n      setLoadingState(isLoading);\n    }\n  }, [isLoading, loadingState, setLoadingState]);\n  return {\n    sort: sort,\n    data: finalItems === null || finalItems === void 0 ? void 0 : finalItems.data,\n    defaultTitle: '',\n    error: error,\n    displayedFilters: displayedFilters,\n    filterValues: filterValues,\n    hasNextPage: (finalItems === null || finalItems === void 0 ? void 0 : finalItems.total) == null ? false : page * perPage < finalItems.total,\n    hasPreviousPage: page > 1,\n    hideFilter: hideFilter,\n    isFetching: fetchingState,\n    isLoading: loadingState,\n    onSelect: selectionModifiers.select,\n    onToggleItem: selectionModifiers.toggle,\n    onUnselectItems: selectionModifiers.clearSelection,\n    page: page,\n    perPage: perPage,\n    resource: undefined,\n    refetch: refetch,\n    selectedIds: selectedIds,\n    setFilters: setFilters,\n    setPage: setPage,\n    setPerPage: setPerPage,\n    setSort: setSort,\n    showFilter: showFilter,\n    total: finalItems === null || finalItems === void 0 ? void 0 : finalItems.total\n  };\n};\nvar defaultFilter = {};","map":{"version":3,"names":["useCallback","useEffect","useRef","get","isEqual","removeEmpty","useSafeSetState","useResourceContext","usePaginationState","useSortState","useRecordSelection","flattenObject","refetch","Error","useList","props","data","error","_a","filter","defaultFilter","_b","isFetching","_c","isLoading","_d","page","initialPage","_e","perPage","initialPerPage","initialSort","sort","_f","filterCallback","record","Boolean","resource","_g","fetchingState","setFetchingState","_h","loadingState","setLoadingState","_j","total","length","undefined","finalItems","setFinalItems","_k","setPage","setPerPage","_l","setSortState","setSort","_m","selectedIds","selectionModifiers","filterRef","_o","displayedFilters","setDisplayedFilters","_p","filterValues","setFilterValues","hideFilter","filterName","previousState","_","newState","__rest","showFilter","defaultValue","__assign","setFilters","filters","current","tempData","flattenFilterValues_1","Object","entries","every","filterValue","recordValue","result","Array","isArray","some","item","includes","filteredLength","field","a","b","order","slice","JSON","stringify","defaultTitle","hasNextPage","hasPreviousPage","onSelect","select","onToggleItem","toggle","onUnselectItems","clearSelection"],"sources":["/Users/imrun10/Documents/GitHub/GradeCourseApp/client/node_modules/ra-core/src/controller/list/useList.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\nimport { removeEmpty, useSafeSetState } from '../../util';\nimport { FilterPayload, RaRecord, SortPayload } from '../../types';\nimport { useResourceContext } from '../../core';\nimport usePaginationState from '../usePaginationState';\nimport useSortState from '../useSortState';\nimport { useRecordSelection } from './useRecordSelection';\nimport { ListControllerResult } from './useListController';\nimport { flattenObject } from '../../dataProvider/fetch';\n\nconst refetch = () => {\n    throw new Error(\n        'refetch is not available for a ListContext built from useList based on local data'\n    );\n};\n\n/**\n * Handle filtering, sorting and pagination on local data.\n *\n * Returns the data and callbacks expected by <ListContext>.\n *\n * @example\n * const data = [\n *     { id: 1, name: 'Arnold' },\n *     { id: 2, name: 'Sylvester' },\n *     { id: 3, name: 'Jean-Claude' },\n * ]\n *\n * const MyComponent = () => {\n *     const listContext = useList({ data });\n *     return (\n *         <ListContextProvider value={listContext}>\n *             <Datagrid>\n *                 <TextField source=\"id\" />\n *                 <TextField source=\"name\" />\n *             </Datagrid>\n *         </ListContextProvider>\n *     );\n * };\n *\n * @param {UseListOptions} props\n * @param {RaRecord[]} props.data An array of records\n * @param {Boolean} props.isFetching: Optional. A boolean indicating whether the data is being loaded\n * @param {Boolean} props.isLoading: Optional. A boolean indicating whether the data has been loaded at least once\n * @param {Error | String} props.error: Optional. The error if any occurred while loading the data\n * @param {Object} props.filter: Optional. An object containing the filters applied on the data\n * @param {Number} props.page: Optional. The initial page index\n * @param {Number} props.perPage: Optional. The initial page size\n * @param {SortPayload} props.sort: Optional. The initial sort (field and order)\n * @param {filterCallback} prop.filterCallback Optional. A function that allows you to make a custom filter\n */\nexport const useList = <RecordType extends RaRecord = any>(\n    props: UseListOptions<RecordType>\n): UseListValue<RecordType> => {\n    const {\n        data,\n        error,\n        filter = defaultFilter,\n        isFetching = false,\n        isLoading = false,\n        page: initialPage = 1,\n        perPage: initialPerPage = 1000,\n        sort: initialSort,\n        filterCallback = (record: RecordType) => Boolean(record),\n    } = props;\n    const resource = useResourceContext(props);\n\n    const [fetchingState, setFetchingState] = useSafeSetState<boolean>(\n        isFetching\n    ) as [boolean, (isFetching: boolean) => void];\n\n    const [loadingState, setLoadingState] = useSafeSetState<boolean>(\n        isLoading\n    ) as [boolean, (isFetching: boolean) => void];\n\n    const [finalItems, setFinalItems] = useSafeSetState<{\n        data?: RecordType[];\n        total?: number;\n    }>(() => ({\n        data,\n        total: data ? data.length : undefined,\n    }));\n\n    // pagination logic\n    const { page, setPage, perPage, setPerPage } = usePaginationState({\n        page: initialPage,\n        perPage: initialPerPage,\n    });\n\n    // sort logic\n    const { sort, setSort: setSortState } = useSortState(initialSort);\n    const setSort = useCallback(\n        (sort: SortPayload) => {\n            setSortState(sort);\n            setPage(1);\n        },\n        [setPage, setSortState]\n    );\n\n    // selection logic\n    const [selectedIds, selectionModifiers] = useRecordSelection(resource);\n\n    // filter logic\n    const filterRef = useRef(filter);\n    const [displayedFilters, setDisplayedFilters] = useSafeSetState<{\n        [key: string]: boolean;\n    }>({});\n    const [filterValues, setFilterValues] = useSafeSetState<{\n        [key: string]: any;\n    }>(filter);\n    const hideFilter = useCallback(\n        (filterName: string) => {\n            setDisplayedFilters(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n            setFilterValues(previousState => {\n                const { [filterName]: _, ...newState } = previousState;\n                return newState;\n            });\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const showFilter = useCallback(\n        (filterName: string, defaultValue: any) => {\n            setDisplayedFilters(previousState => ({\n                ...previousState,\n                [filterName]: true,\n            }));\n            setFilterValues(previousState =>\n                removeEmpty({\n                    ...previousState,\n                    [filterName]: defaultValue,\n                })\n            );\n        },\n        [setDisplayedFilters, setFilterValues]\n    );\n    const setFilters = useCallback(\n        (filters, displayedFilters) => {\n            setFilterValues(removeEmpty(filters));\n            if (displayedFilters) {\n                setDisplayedFilters(displayedFilters);\n            }\n            setPage(1);\n        },\n        [setDisplayedFilters, setFilterValues, setPage]\n    );\n    // handle filter prop change\n    useEffect(() => {\n        if (!isEqual(filter, filterRef.current)) {\n            filterRef.current = filter;\n            setFilterValues(filter);\n        }\n    });\n\n    // We do all the data processing (filtering, sorting, paginating) client-side\n    useEffect(\n        () => {\n            if (isLoading || !data) return;\n            let tempData = data;\n\n            // 1. filter\n            if (filterValues) {\n                const flattenFilterValues = flattenObject(filterValues);\n                tempData = data\n                    .filter(record =>\n                        Object.entries(flattenFilterValues).every(\n                            ([filterName, filterValue]) => {\n                                const recordValue = get(record, filterName);\n                                const result = Array.isArray(recordValue)\n                                    ? Array.isArray(filterValue)\n                                        ? recordValue.some(item =>\n                                              filterValue.includes(item)\n                                          )\n                                        : recordValue.includes(filterValue)\n                                    : Array.isArray(filterValue)\n                                    ? filterValue.includes(recordValue)\n                                    : filterValue == recordValue; // eslint-disable-line eqeqeq\n                                return result;\n                            }\n                        )\n                    )\n                    .filter(filterCallback);\n            }\n            const filteredLength = tempData.length;\n\n            // 2. sort\n            if (sort.field) {\n                tempData = tempData.sort((a, b) => {\n                    if (get(a, sort.field) > get(b, sort.field)) {\n                        return sort.order === 'ASC' ? 1 : -1;\n                    }\n                    if (get(a, sort.field) < get(b, sort.field)) {\n                        return sort.order === 'ASC' ? -1 : 1;\n                    }\n                    return 0;\n                });\n            }\n\n            // 3. paginate\n            tempData = tempData.slice((page - 1) * perPage, page * perPage);\n\n            setFinalItems({\n                data: tempData,\n                total: filteredLength,\n            });\n        }, // eslint-disable-next-line react-hooks/exhaustive-deps\n        [\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n            JSON.stringify(data),\n            filterValues,\n            isLoading,\n            page,\n            perPage,\n            setFinalItems,\n            sort.field,\n            sort.order,\n        ]\n    );\n\n    useEffect(() => {\n        if (isFetching !== fetchingState) {\n            setFetchingState(isFetching);\n        }\n    }, [isFetching, fetchingState, setFetchingState]);\n\n    useEffect(() => {\n        if (isLoading !== loadingState) {\n            setLoadingState(isLoading);\n        }\n    }, [isLoading, loadingState, setLoadingState]);\n\n    return {\n        sort,\n        data: finalItems?.data,\n        defaultTitle: '',\n        error,\n        displayedFilters,\n        filterValues,\n        hasNextPage:\n            finalItems?.total == null\n                ? false\n                : page * perPage < finalItems.total,\n        hasPreviousPage: page > 1,\n        hideFilter,\n        isFetching: fetchingState,\n        isLoading: loadingState,\n        onSelect: selectionModifiers.select,\n        onToggleItem: selectionModifiers.toggle,\n        onUnselectItems: selectionModifiers.clearSelection,\n        page,\n        perPage,\n        resource: undefined,\n        refetch,\n        selectedIds,\n        setFilters,\n        setPage,\n        setPerPage,\n        setSort,\n        showFilter,\n        total: finalItems?.total,\n    };\n};\n\nexport interface UseListOptions<RecordType extends RaRecord = any> {\n    data?: RecordType[];\n    error?: any;\n    filter?: FilterPayload;\n    isFetching?: boolean;\n    isLoading?: boolean;\n    page?: number;\n    perPage?: number;\n    sort?: SortPayload;\n    resource?: string;\n    filterCallback?: (record: RecordType) => boolean;\n}\n\nexport type UseListValue<\n    RecordType extends RaRecord = any\n> = ListControllerResult<RecordType>;\n\nconst defaultFilter = {};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}