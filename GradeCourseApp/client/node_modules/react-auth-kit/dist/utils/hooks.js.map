{"version":3,"file":"hooks.js","sources":["../../src/utils/hooks.ts"],"sourcesContent":["/*\n * Copyright 2020 Arkadip Bhattacharya\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\n\n/**\n * React useInterval Hook\n * Used to integrate the power of setInterval seamlessly\n *\n * @param callback - The callback function\n * @param delay - The amount of delay in minutes.\n *\n * @returns the ref of setInterval\n */\nfunction useInterval(callback: ()=>void, delay:number|null)\n  : React.MutableRefObject<number | null> {\n  const savedCallback = React.useRef(callback);\n  const intervalRef = React.useRef<number | null>(null);\n\n  // Remember the latest callback if it changes.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    const tick = () => savedCallback.current();\n\n    if (typeof delay === 'number') {\n      intervalRef.current = window.setInterval(tick, delay * 60 * 1000);\n    }\n\n    return () => {\n      if (intervalRef.current) {\n        window.clearTimeout(intervalRef.current);\n      }\n    };\n  }, [delay]);\n\n  return intervalRef;\n}\n\nexport {useInterval};\n"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;AAcG;AAIH;;;;;;;;AAQG;AACH,SAAS,WAAW,CAAC,QAAkB,EAAE,KAAiB,EAAA;IAExD,IAAM,aAAa,GAAG,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC7C,IAAM,WAAW,GAAG,KAAK,CAAC,MAAM,CAAgB,IAAI,CAAC,CAAC;;IAGtD,KAAK,CAAC,SAAS,CAAC,YAAA;AACd,QAAA,aAAa,CAAC,OAAO,GAAG,QAAQ,CAAC;AACnC,KAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;;IAGf,KAAK,CAAC,SAAS,CAAC,YAAA;QACd,IAAM,IAAI,GAAG,YAAA,EAAM,OAAA,aAAa,CAAC,OAAO,EAAE,CAAvB,EAAuB,CAAC;AAE3C,QAAA,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;AAC7B,YAAA,WAAW,CAAC,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;AACnE,SAAA;QAED,OAAO,YAAA;YACL,IAAI,WAAW,CAAC,OAAO,EAAE;AACvB,gBAAA,MAAM,CAAC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AAC1C,aAAA;AACH,SAAC,CAAC;AACJ,KAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAEZ,IAAA,OAAO,WAAW,CAAC;AACrB;;;;"}